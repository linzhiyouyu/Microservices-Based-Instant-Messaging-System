# Microservices-Based-Instant-Messaging-System


**安装需要的库及Docker**

```
chmod +x ./install_packs.sh
./install_packs.sh
```

## 不直接使用原生spdlog，而是进行二次封装
1. 避免单例的锁冲突，因此直接创建全局的线程安全日志器进行使用
2. 因为日志输出没有行号和文件名，使用宏进行二次封装来输出行号和文件名
3. 封装初始化接口，对于调试模式输出到stdout中，否则输出到文件中


## 服务注册中心

使用`etcd`键值存储系统
1. 服务注册：服务启动时，向`etcd`注册自己的地址和端口。
2. 服务发现：客户端通过`etcd`获取服务的地址和端口，用于远程调用。
3. 健康检查：服务定期向`etcd`发送心跳，以维持其注册信息的有效性。

对`etcd-client-api`进行二次封装，实现两种类型的客户端
1. 服务注册客户端：向`etcd`注册并保活
2. 服务发现客户端：从服务端查找数据，并进行改变事件监控